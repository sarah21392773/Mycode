# 解題反思

本文件整理了「高一資訊課」解題過程中的程式錯誤、修正與心得，包含 4 道題目。

---

## 題目 1：數字結合 (Combination)

### 題目敘述
將兩個數字合併後，判斷是否為 11 的倍數。  
規則：若奇數位數字和與偶數位數字和的差為 0 或 11 的倍數，則為 11 的倍數。

- **輸入**：兩個整數 X, Y（長度 ≤ 50 位）  
- **輸出**：Yes / No  

**範例**
```

輸入: 1 1       → 輸出: Yes
輸入: 1345 7092 → 輸出: Yes
輸入: 12 213    → 輸出: No

````

### 錯誤程式碼
```cpp
char t = c[i];
suma += int(t);   // 取得 ASCII 值
````

### 修正後程式碼

```cpp
char t = c[i];
suma += t - '0';  // 修正：轉換為數字
```

### 策略與反思

* 利用 `'0'` ~ `'9'` 在 ASCII 中連續排列的特性，做減法取得數值。
* 一開始以 `long long int` 嘗試，結果資料過大失敗，改用字串後仍錯誤。
* 學到字元運算後，才發現錯誤來源，最終修正成功。

---

## 題目 2：精靈王國 (Kingdom)

### 題目敘述

每個傳送點會傳送到另一個傳送點，需計算擁有最多傳送點的王國大小。

* **輸入**：K（傳送點總數）、K 個 ai 值（第 i 個傳送點的目的地）
* **輸出**：最大王國的傳送點數量

**範例**

```
輸入:
7
1 3 4 5 6 7 2
輸出: 6
```

### 錯誤程式碼

```cpp
while(t != h){   // 當傳送點未回到起點
    s++;
    t = a[t-1];
}
```

### 修正後程式碼

```cpp
a[i] = 0;   // 標記已傳送過的點
while(t != home && t != 0){
    sum++;
    int t2 = t;
    t = a[t-1];
    a[t2-1] = 0; // 避免重複計算
}
```

### 策略與反思

* 原始程式在小測資能通過，但大測資出現 TLE。
* 改以「標記已傳送過的點」方式，避免重複計算，提高效率。
* 學到設計演算法時需考慮時間複雜度。

---

## 題目 3：禮品採購

### 題目敘述

小黃可在第四季以前三季平均價購買禮品。
若前三季最高價與最低價差 ≥ d，則購買。輸出總購買數量與總金額。

**範例**

```
輸入:
3 5
28 32 27
20 15 25
77 77 77
輸出:
2 49
```

### 錯誤程式碼

```cpp
int M=0, m=100, b=0;
for(int j=0; j<3; j++){
    cin >> a[i][j];
    b += a[i][j];
    if(a[i][j] > M) M = a[i][j];
    else if(a[i][j] < m) m = a[i][j];
}
```

### 修正後程式碼

```cpp
int a[3], b=0, M=0, m=100;
for(int j=0; j<3; j++){
    cin >> a[j];
    b += a[j];
    M = max(M, a[j]);
    m = min(m, a[j]);
}
```

### 策略與反思

* 原本使用二維陣列與 if 判斷，程式冗長且容易出錯。
* 改成一維陣列，並使用 `max()` 與 `min()`，程式更精簡直觀。
* 體會到簡化程式碼的重要性，避免錯誤並提升可讀性。

---

## 題目 4：傳輸費用

### 題目敘述

給定伺服器數量 n、城市數量 m、方案數量 k，每個方案將伺服器分配到城市，計算所有方案中的最低傳輸費用。

* **費用規則**：

  * 同城市：每單位 1 元
  * 不同城市：≤1000 單位 → 每單位 3 元；超過部分 → 每單位 2 元

**範例**

```
輸入:
2 3 2
900 500 300
300 600 1200
2 0
2 2

輸出:
8100
```

### 錯誤程式碼

```cpp
for (int city = 0; city < m; city++) {
    same[city] = 0;
    for (int s = 0; s < n; s++) {
        if (city == cities[s]) {
            totalCost += Q[s][city];
        } else {
            same[city] += Q[s][city];
        }
    }
}
```

### 修正後程式碼

```cpp
for (int j = 0; j < n; j++) {
    int cases = 0;
    cin >> cases;
    for(int p=0; p<m; p++){
        trans[cases][p] += Q[j][p];
    }
}

// 再依規則計算費用
if(i == j) totalcost += trans[i][j];
else if(trans[i][j] > 1000)
    totalcost += 3000 + (trans[i][j] - 1000) * 2;
else
    totalcost += trans[i][j] * 3;
```

### 策略與反思

* 原始程式沒有正確合併同城市伺服器的流量，導致錯誤。
* 改用 `trans[m][m]` 矩陣記錄各城市間傳輸總量，再依規則計算。
* 學到設計資料結構能有效解決計算錯誤問題。

---

## 整體反思

* 僅有基礎語法已不足以應付進階題目，需要學習更多標準函式與技巧。
* 建立正確的基礎觀念與邏輯思維，對解題至關重要。
* 遇到問題時，應嘗試不同角度去思考，增加解題靈活性。
* 程式設計是一個 **不斷反思、不斷成長的過程**。
